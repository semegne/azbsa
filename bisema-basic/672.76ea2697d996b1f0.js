"use strict";(self.webpackChunkbisema_basic=self.webpackChunkbisema_basic||[]).push([[672],{2672:(yt,I,r)=>{r.r(I),r.d(I,{CatalogueModule:()=>C});var c=r(6895),u=r(6491),b=r(9579),T=r(5133),p=r(2687),t=r(1571),x=r(6814),v=r(2216);class Z{constructor(o){this.store=o,this.faClipboard=p.Yjj,this.company=null,this.catalogue=null}getCompany(){this.store.select(T.p).subscribe({next:o=>{this.company=o}})}getCatalogue(){this.store.select(b.P).subscribe({next:o=>{this.catalogue=o}})}ngOnInit(){this.getCompany(),this.getCatalogue()}}Z.\u0275fac=function(o){return new(o||Z)(t.Y36(x.yh))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-catalogue"]],decls:13,vars:5,consts:[[1,"card","bg-main","border-0","rounded-0"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"d-flex","flex-md-row","flex-column","justify-content-between","align-items-center"],["href","https://teams.microsoft.com","target","_blank",1,"navbar-brand"],["src","../../../assets/img/ms-teams.jpg","alt","logo","height","25"],["type","button",1,"btn"],[3,"icon"],[1,"card-body","p-0","catalogue-body"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5"),t._uU(3),t.ALo(4,"uppercase"),t.qZA(),t.TgZ(5,"div",2)(6,"a",3),t._UZ(7,"img",4),t.qZA(),t.TgZ(8,"button",5),t._UZ(9,"fa-icon",6),t._uU(10," Dealers Board "),t.qZA()()(),t.TgZ(11,"div",7),t._UZ(12,"router-outlet"),t.qZA()()),2&o&&(t.xp6(3),t.AsE("",t.lcZ(4,3,null==e.company||null==e.company.company?null:e.company.company.CompanyName)," | ",null==e.catalogue?null:e.catalogue.desc,""),t.xp6(6),t.Q6J("icon",e.faClipboard))},dependencies:[v.BN,u.lC,c.gd]});var h=r(2340),A=r(5136);class g extends A.b{constructor(o){super(o)}getCatalogueFile(o,e){return this._networkService.get(`assets/${o}/${e}/catalogue_text.txt`,{responseType:"text"})}getGalleryImages(o,e){return this._networkService.get(`gallery/${o}/${e}`)}}g.\u0275fac=function(o){return new(o||g)(t.LFG(t.zs3))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac});var O=r(3947);function w(n,o){if(1&n&&(t.TgZ(0,"span")(1,"a",7),t._uU(2),t.ALo(3,"uppercase"),t.qZA(),t._uU(4," | "),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",e.router),t.xp6(1),t.hij(" ",t.lcZ(3,2,e.name)," ")}}function S(n,o){if(1&n&&(t.TgZ(0,"span",8),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name),"")}}function L(n,o){if(1&n&&(t.ynx(0),t.YNc(1,w,5,4,"span",5),t.YNc(2,S,3,3,"span",6),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.router),t.xp6(1),t.Q6J("ngIf",null==e.router)}}class m{constructor(){this.baseUrl=h.N.baseUrl,this.faCircle=p.diR,this.data={}}ngOnChanges(o){}}function q(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",4),t.TgZ(2,"h5",5),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",null==e.data?null:e.data.imgUrl,t.LSH),t.xp6(2),t.Oqu(null==e.result?null:e.result.DESCRIPTIONS.TEXT.Text)}}function F(n,o){if(1&n&&(t.TgZ(0,"div")(1,"h5",5),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(null==e.result?null:e.result.LONG_DESC.TEXT.Text)}}function M(n,o){if(1&n&&(t.TgZ(0,"li",8),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.DESCRIPTIONS.TEXT.Text)}}function k(n,o){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,M,2,1,"li",7),t.qZA()),2&n){const e=o.index;t.xp6(1),t.Q6J("ngIf",e<7)}}function $(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,k,2,1,"ul",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.result?null:e.result.LEVEL.LABEL)}}function J(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",9)(2,"h6"),t._uU(3,"Size:"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t._UZ(6,"br"),t._uU(7," -- -- -- "),t._UZ(8,"br"),t._uU(9),t.qZA()(),t.TgZ(10,"h6",9),t._uU(11),t.ALo(12,"currency"),t.ALo(13,"currency"),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(null==e.catalog1?null:e.catalog1.LONG_DESC.TEXT.Text),t.xp6(4),t.hij(" ",null==e.catalog2?null:e.catalog2.LONG_DESC.TEXT.Text,""),t.xp6(2),t.AsE("Price:",t.lcZ(12,4,null==e.catalog1?null:e.catalog1.PRICES.PRICE.Text)," -- ",t.lcZ(13,6,null==e.catalog2?null:e.catalog2.PRICES.PRICE.Text),"")}}function Q(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",4),t.TgZ(2,"p",10)(3,"strong"),t._uU(4),t.ALo(5,"currency"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",null==e.data?null:e.data.imgUrl,t.LSH),t.xp6(3),t.hij("Price: ",t.lcZ(5,2,null==e.result?null:e.result.PRICES.PRICE.Text),"")}}m.\u0275fac=function(o){return new(o||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-breadcrumb"]],inputs:{data:"data"},features:[t.TTD],decls:11,vars:8,consts:[[1,"d-flex","justify-content-between","align-items-center","bg-white","p-3"],[4,"ngFor","ngForOf"],["routerLink","/catalog/category",1,"clr-black"],["href","javascript:;","fileSaver","",1,"clr-red",3,"method","fileName","url"],[3,"icon"],[4,"ngIf"],["class","clr-black",4,"ngIf"],[1,"clr-black",3,"routerLink"],[1,"clr-black"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div"),t.YNc(2,L,3,2,"ng-container",1),t.qZA(),t.TgZ(3,"div")(4,"a",2),t._uU(5),t.ALo(6,"uppercase"),t.qZA(),t._uU(7," | "),t.TgZ(8,"a",3),t._UZ(9,"fa-icon",4),t._uU(10," Award "),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("ngForOf",e.data.breadcrumbs),t.xp6(3),t.hij("",t.lcZ(6,6,e.data.catalogueCode)," "),t.xp6(3),t.Q6J("method","GET")("fileName","Award.pdf")("url",e.baseUrl+"assets/"+e.data.companyCode+"/"+e.data.catalogueCode+"/awards/awards.pdf"),t.xp6(1),t.Q6J("icon",e.faCircle))},dependencies:[c.sg,c.O5,u.rH,v.BN,O.vy,c.gd]});class f{constructor(){this.data=null,this.catalogue=null,this.result=null,this.catalog1=null,this.catalog2=null}ngOnChanges(o){"category"==this.data?.type?this.categoryData(this.data):"sub-category"==this.data?.type?this.subCategoryData(this.data):this.productsData(this.data)}categoryData(o){this.result=this.catalogue.TABLE_OF_CONTENTS.LEVEL.LABEL.LEVEL.LABEL.find(e=>e.id==o.id)}subCategoryData(o){this.result=this.data?.productCatalogue.LEVEL.LABEL.find(e=>e.id==o.id),this.catalog1=this.catalogue.ITEMS.ITEM.find(e=>e.id==this.result.TOC_ITEMS.TOC_ITEM[0].id),this.catalog2=this.catalogue.ITEMS.ITEM.find(e=>e.id==this.result.TOC_ITEMS.TOC_ITEM[this.result.TOC_ITEMS.TOC_ITEM.length-1].id)}productsData(o){this.result=this.catalogue.ITEMS.ITEM.find(e=>e.id==o.id)}}function Y(n,o){if(1&n&&(t.TgZ(0,"div")(1,"small",8),t._uU(2,"About Catalogue:"),t.qZA(),t.TgZ(3,"h6"),t._uU(4),t.qZA(),t._UZ(5,"hr",5),t.TgZ(6,"pre",9),t._uU(7),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.hij("What is ",null==e.catalogue?null:e.catalogue.code,""),t.xp6(3),t.Oqu(e.catalogueDescritption)}}function B(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-info-modal",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("data",e.infoData)("catalogue",e.catalogue)}}function R(n,o){if(1&n&&(t.TgZ(0,"div",11)(1,"video",12),t._UZ(2,"source",13),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.cQ8("src","",e.baseUrl,"assets/",null==e.company||null==e.company.company?null:e.company.company.CompanyName,"/",null==e.catalogue?null:e.catalogue.catalogueCode,"/video.mp4",t.LSH)}}f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-info-modal"]],inputs:{data:"data",catalogue:"catalogue"},features:[t.TTD],decls:8,vars:5,consts:[[1,"card","mx-auto","w-20","shadow","bg-light-purple","rounded-3",2,"max-width","20rem"],[1,"card-body"],[4,"ngIf"],[1,"border-dark"],["width","100px","height","100px","alt","",1,"rounded","mx-auto","d-block",3,"src"],[1,"card-title","text-center","mt-2"],[4,"ngFor","ngForOf"],["class","fw-bold",4,"ngIf"],[1,"fw-bold"],[1,"text-center"],[1,"text-center","mt-2"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,q,4,2,"div",2),t.YNc(3,F,3,1,"div",2),t._UZ(4,"hr",3),t.YNc(5,$,2,1,"div",2),t.YNc(6,J,14,8,"div",2),t.YNc(7,Q,6,4,"div",2),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngIf","products"!=(null==e.data?null:e.data.type)),t.xp6(1),t.Q6J("ngIf","products"==(null==e.data?null:e.data.type)),t.xp6(2),t.Q6J("ngIf","category"==(null==e.data?null:e.data.type)),t.xp6(1),t.Q6J("ngIf","sub-category"==(null==e.data?null:e.data.type)),t.xp6(1),t.Q6J("ngIf","products"==(null==e.data?null:e.data.type)))},dependencies:[c.sg,c.O5,c.H9]});class P{constructor(o,e){this.store=o,this.catalogService=e,this.baseUrl=h.N.baseUrl,this.company=null,this.catalogue=null,this.breadcrumbData={},this.catalogueDescritption="",this.infoModal=!1,this.infoData={}}getCompany(){this.store.select(T.p).subscribe({next:o=>{o?.company&&(this.company=o,console.log(this.company),this.breadcrumbData.companyCode=this.company?.company?.CompanyName,this.getCatalogue())}})}getCatalogue(){this.store.select(b.P).subscribe({next:o=>{o?.catalogueCode&&(this.breadcrumbData.breadcrumbs=[],this.catalogue=o,console.log(this.catalogue),this.breadcrumbData.catalogueCode=this.catalogue.catalogueCode,this.breadcrumbData.breadcrumbs.push({name:this.company?.company?.CompanyName,router:null}),this.getCatalogFile())}})}getCatalogFile(){this.catalogService.getCatalogueFile(this.company?.company?.CompanyName,this.catalogue?.catalogueCode).subscribe({next:o=>{this.catalogueDescritption=o}})}mouseIn(o){this.infoModal=!0,this.infoData.type="category",this.infoData.id=o.id,this.infoData.imgUrl=`${this.baseUrl}assets/${this.company?.company?.CompanyName}/${this.catalogue?.catalogueCode}/labels_icons/${o.id}.png`}mouseOut(){this.infoModal=!1}ngOnInit(){this.getCompany()}}P.\u0275fac=function(o){return new(o||P)(t.Y36(x.yh),t.Y36(g))},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-category"]],decls:11,vars:5,consts:[[3,"data"],[1,"container-fluid"],[1,"row","mt-3"],[1,"col-md-6","col-12"],[4,"ngIf"],[1,"border-dark"],[1,"mt-3"],["class","embed-responsive embed-responsive-16by9",4,"ngIf"],[1,"text-muted"],[1,"description"],[3,"data","catalogue"],[1,"embed-responsive","embed-responsive-16by9"],["controls","",1,"embed-responsive-item","w-100"],["type","video/mp4",3,"src"]],template:function(o,e){1&o&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Y,8,2,"div",4),t.YNc(5,B,2,2,"div",4),t.TgZ(6,"div"),t._UZ(7,"hr",5),t.TgZ(8,"h6",6),t._uU(9),t.qZA(),t.YNc(10,R,3,3,"div",7),t.qZA()()()()),2&o&&(t.Q6J("data",e.breadcrumbData),t.xp6(4),t.Q6J("ngIf",!e.infoModal),t.xp6(1),t.Q6J("ngIf",e.infoModal),t.xp6(4),t.hij("",null==e.catalogue?null:e.catalogue.code," Video"),t.xp6(1),t.Q6J("ngIf",e.catalogue))},dependencies:[c.O5,m,f],styles:[".description[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif}.h_line[_ngcontent-%COMP%]{background-color:#000;color:#000;width:60%;height:5px;line-height:50%}"]});var d=r(433),G=r(6916),j=r(7185),X=r(7103);function H(n,o){if(1&n&&(t.TgZ(0,"option",46)(1,"a",47),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.Q6J("ngValue",e.url),t.xp6(1),t.Q6J("method","GET")("fileName",e.name)("url",e.url),t.xp6(1),t.hij(" ",e.fullName," ")}}function V(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1," / price:0"),t.qZA())}function z(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().index,a=t.oxw();t.xp6(1),t.AsE(" -> ",a.singleProductData.finishName[e]," | ",a.singleProductData.finishPrice[e],"")}}const K=function(n,o){return{option:n,index:o,margin:5}};function W(n,o){if(1&n&&(t.TgZ(0,"div"),t.GkF(1,53),t.qZA()),2&n){const e=o.$implicit,a=t.oxw().index;t.oxw();const i=t.MAs(119);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(2,K,e,a))}}const U=function(n,o){return{"clr-red":n,"text-success":o}};function tt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",48)(1,"a",49),t.NdJ("click",function(){const l=t.CHM(e).index,s=t.oxw();return t.KtG(s.finishCollapseToggle(l))}),t._UZ(2,"fa-icon",28),t._uU(3),t.YNc(4,V,2,0,"span",50),t.YNc(5,z,2,2,"span",50),t.qZA(),t.TgZ(6,"div",51,52),t.YNc(8,W,2,5,"div",19),t.qZA()()}if(2&n){const e=o.$implicit,a=o.index,i=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(7,U,null==i.singleProductData.finishImages[a],null!=i.singleProductData.finishImages[a])),t.xp6(1),t.Q6J("icon",i.faCaretDown),t.xp6(1),t.hij(" ",e.grp.DESCRIPTIONS.TEXT.Text," "),t.xp6(1),t.Q6J("ngIf",null==i.singleProductData.finishPrice[a]),t.xp6(1),t.Q6J("ngIf",null!=i.singleProductData.finishPrice[a]),t.xp6(1),t.Q6J("ngbCollapse",e.collapse),t.xp6(2),t.Q6J("ngForOf",i.singleProductData.finishOptions[a])}}function et(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}function ot(n,o){if(1&n&&(t.TgZ(0,"div",54)(1,"a",55),t._UZ(2,"img",56),t.ALo(3,"lowercase"),t.TgZ(4,"div",57),t._uU(5),t.qZA()()()),2&n){const e=o.$implicit,a=t.oxw();t.xp6(1),t.FAE("routerLink","/catalogue/",a.company.company.CompanyName,"/product/",null==a.productCatalogue?null:a.productCatalogue.id,"/",null==a.subProductCatalogue?null:a.subProductCatalogue.id,"/",e.id,""),t.xp6(1),t.FAE("src","",a.baseUrl,"assets/",null==a.company||null==a.company.company?null:a.company.company.CompanyName,"/",null==a.catalogue?null:a.catalogue.catalogueCode,"/prod_icons/",t.lcZ(3,9,e.id),"_3d.png",t.LSH),t.xp6(3),t.hij(" ",e.id," ")}}const at=function(n,o,e){return{option:n,index:o,margin:e}};function nt(n,o){if(1&n&&(t.TgZ(0,"div"),t.GkF(1,53),t.qZA()),2&n){const e=o.$implicit,a=t.oxw(2),i=a.index,l=a.margin;t.oxw();const s=t.MAs(119);t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.kEZ(2,at,e,i,l+5))}}function it(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"a",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().option;return t.KtG(i.subgroup.collapse=!i.subgroup.collapse)}),t._UZ(2,"fa-icon",28),t._uU(3),t.qZA(),t.TgZ(4,"div",51,60),t.YNc(6,nt,2,6,"div",19),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(),a=e.margin,i=e.option,l=t.oxw();t.xp6(1),t.Q2q("style","margin-left: ",a,"px;",t.Ckj),t.xp6(1),t.Q6J("icon",l.faCaretDown),t.xp6(1),t.hij(" ",i.DESCRIPTIONS.TEXT.Text," "),t.xp6(1),t.Q6J("ngbCollapse",i.subgroup.collapse),t.xp6(2),t.Q6J("ngForOf",i.finishOptions)}}const lt=function(n,o){return{"bg-purple text-white":n,"clr-grey":o}};function st(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a",61),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),l=i.option,s=i.index,y=t.oxw();return t.KtG(y.finish(l.id,l.name,s,l.PRICES.PRICE.Text,l.DESCRIPTIONS.TEXT.Text))}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(),a=e.margin,i=e.option,l=e.index,s=t.oxw();t.Q2q("style","margin-left: ",a,"px;",t.Ckj),t.Q6J("ngClass",t.WLB(3,lt,i.name==s.singleProductData.finishCode[l],i.name!=s.singleProductData.finishCode[l])),t.xp6(1),t.hij(" ",i.DESCRIPTIONS.TEXT.Text," ")}}function ct(n,o){if(1&n&&(t.YNc(0,it,7,5,"ng-container",50),t.YNc(1,st,2,6,"a",58)),2&n){const e=o.option;t.Q6J("ngIf",e.subgroup_id),t.xp6(1),t.Q6J("ngIf",!e.subgroup_id)}}class D{constructor(o,e,a,i,l,s,y,_t){this.store=o,this.route=e,this.catalogueService=a,this.fb=i,this.busService=l,this.toastr=s,this._FileSaverService=y,this.baseUrl=h.N.baseUrl,this.appUrl=h.N.appUrl,this.faCaretDown=p.eW2,this.faShoppingCart=p.sq$,this.faDownload=p.q7m,this.faCubesStacked=p.hGM,this.faArrowRotateBack=p.SD9,this.finishCollapse=[],this.company=null,this.catalogue=null,this.productCatalogue=null,this.subProductCatalogue=null,this.breadcrumbData={},this.codeChk=!1,this.singleProductData={id:null,item:null,group:[],price:null,description:null,finishImages:[],finishOptions:[],finishCode:[],finishPrice:[],finishName:[],qty:1},this.qty=new d.NI({value:"1",disabled:!0}),this.pdfControl=new d.NI(""),this.price=null,this.pdfs=[{fullName:"ANSI / BIFMA-Certificates",name:"anci_bifma_certificate.pdf",folder:"prod_certificates",url:""},{fullName:"Price Product Guide",name:"price_product_guide.pdf",folder:"price_guide",url:""},{fullName:"Installation Guide",name:"installation_guide.pdf",folder:"installation_guide",url:""},{fullName:"Environment Data",name:"environment_report.pdf",folder:"env_data",url:`${this.baseUrl}assets/${this.company?.company?.CompanyName}/${this.catalogue?.catalogueCode}/labels/${this.productCatalogue?.id}/env_data/${this.subProductCatalogue?.id}.pdf`}],this.autoCadForm=this.fb.group({dwg_2d:[""],dxf_2d:[""],rvt_2d:[""],dwg_3d:[""],dxf_3d:[""],rvt_3d:[""]}),_t.events.subscribe({next:Ct=>{Ct instanceof u.m2&&this.getCatalogue()}})}getCompany(){this.store.select(T.p).subscribe({next:o=>{o?.company&&(this.company=o,this.breadcrumbData.companyCode=this.company?.company?.CompanyName,this.getCatalogue())}})}getCatalogue(){let o=this.route.snapshot.paramMap.get("categoryId"),e=this.route.snapshot.paramMap.get("subCategoryId");this.store.select(b.P).subscribe({next:a=>{a?.catalogueCode&&(this.codeChk=!1,this.breadcrumbData.breadcrumbs=[],this.catalogue=a,console.log(this.catalogue),this.productCatalogue=a.TABLE_OF_CONTENTS.LEVEL.LABEL.LEVEL.LABEL.find(i=>i.id==o),this.subProductCatalogue=this.productCatalogue?.LEVEL.LABEL.find(i=>i.id==e),this.breadcrumbData.catalogueCode=a.catalogueCode,this.setPdf(),this.getProduct())}})}getProduct(){let o=this.route.snapshot.paramMap.get("productId");if(this.breadcrumbData.breadcrumbs=[{name:this.company?.company?.CompanyName,router:`/catalogue/${this.company?.company?.CompanyName}/category`},{name:this.productCatalogue?.DESCRIPTIONS.TEXT.Text,router:`/catalogue/${this.company?.company?.CompanyName}/sub-category/${this.productCatalogue?.id}`},{name:this.subProductCatalogue?.DESCRIPTIONS.TEXT.Text,router:`/catalogue/${this.company?.company?.CompanyName}/products/${this.productCatalogue?.id}/${this.subProductCatalogue?.id}`},{name:o,router:null}],this.singleProductData.group=[],this.singleProductData.finishImages=[],this.singleProductData.finishCode=[],this.singleProductData.finishPrice=[],this.singleProductData.finishName=[],this.singleProductData.finishOptions=[],this.singleProductData.id=o,this.singleProductData.item=this.catalogue?.ITEMS.ITEM.find(a=>a.id==this.singleProductData?.id),this.singleProductData.qty=1,this.singleProductData.item?.ITEM_GROUPS.ITEM_GROUP instanceof Array)this.singleProductData.item?.ITEM_GROUPS.ITEM_GROUP.forEach((a,i)=>{this.productGroup(a.id,i)});else{let a=this.singleProductData.item?.ITEM_GROUPS.ITEM_GROUP.id;this.productGroup(a,0)}this.singleProductData.price=parseFloat(this.singleProductData.item?.PRICES.PRICE.Text),this.price=this.singleProductData.price.toFixed(2)}productGroup(o,e){let a=this.catalogue?.GROUPS.GROUP.find(l=>l.id==o);this.singleProductData.group.push({grp:a,collapse:!0}),this.finishCollapse.push(!0),this.singleProductData.finishCode.push(" ??"),this.singleProductData.finishOptions[e]=[],a?.OPTIONS.OPTION instanceof Array?this.singleProductData.finishOptions[e]=a?.OPTIONS.OPTION:this.singleProductData.finishOptions[e].push(a?.OPTIONS.OPTION);let i=[];this.singleProductData.finishOptions[e].forEach((l,s)=>{l?.subgroup_id&&(l={...l,subgroup:null,finishOptions:[]},i.push(l),this.createsubGroupps(l?.subgroup_id,l))}),i.length>0&&(this.singleProductData.finishOptions[e]=i),console.log(this.singleProductData)}createsubGroupps(o,e){let a=this.catalogue?.GROUPS.GROUP.find(l=>l.id==o);e.finishOptions=[],e.subgroup=null,e.subgroup={grp:a,collapse:!0},a?.OPTIONS.OPTION instanceof Array?e.finishOptions=a?.OPTIONS.OPTION:e.finishOptions.push(a?.OPTIONS.OPTION);let i=[];e?.finishOptions.forEach(l=>{l?.subgroup_id&&(l={...l,subgroup:null,finishOptions:[]},i.push(l),this.createsubGroupps(l?.subgroup_id,l))}),i.length>0&&(e.finishOptions=i)}getProductSectionTextFile(){this.productCatalogue?.id&&this.subProductCatalogue?.id&&this.catalogueService.getSectionTextFile(this.productCatalogue?.id,this.subProductCatalogue?.id,this.catalogue?.catalogueCode,this.company?.company?.CompanyName).subscribe({next:o=>{this.singleProductData.description=o}})}finish(o,e,a,i,l){this.singleProductData.finishImages[a]=o,this.singleProductData.finishCode[a]=e,this.singleProductData.finishName[a]=l;let s=this.singleProductData.finishCode.find(y=>" ??"==y);null!=i&&null==this.singleProductData.finishPrice[a]&&(this.singleProductData.finishPrice[a]=parseFloat(i),this.price=+this.price+ +this.singleProductData.finishPrice[a],this.price=parseFloat(this.price).toFixed(2)),null==s&&(this.codeChk=!0)}finishCollapseToggle(o){this.singleProductData.group.forEach((e,a)=>{e.collapse=a!=o||!e.collapse})}setPdf(){this.pdfs.forEach(o=>{o.url=`${this.baseUrl}assets/${this.company?.company?.CompanyName}/${this.catalogue?.catalogueCode}/labels/${this.productCatalogue?.id}/${o.folder}/${this.subProductCatalogue?.id}.pdf`})}stepDown(){1!=this.qty.value&&(this.qty.setValue(parseInt(this.qty.value)-1),this.changePrice())}stepUp(){this.qty.setValue(parseInt(this.qty.value)+1),this.changePrice()}changePrice(){this.price=this.singleProductData.price*this.qty.value;for(let o=0;o<this.singleProductData.finishPrice.length;o++)this.price=this.price+this.singleProductData.finishPrice[o]*this.qty.value;this.price=parseFloat(this.price).toFixed(2)}addToCart(){let e,o=this.singleProductData.finishCode.toString();o=o.replace(/,/g,""),e=o.includes("?")?"":"#cbebc6";const a=JSON.parse(this.catalogueService._storageService.getItem("user")),i={productID:this.singleProductData.id,productImage:this.singleProductData.id.toLowerCase()+"_3d.png",description:this.singleProductData.description,backgroundColor:e,companyCode:this.company?.company.CompanyName,displayName:this.singleProductData.item.LONG_DESC.TEXT.Text,baseUnitofMeasure:"PCS",unitPrice:parseFloat(this.singleProductData.price.toFixed(2)),quantity:parseInt(this.qty.value),genProdPostingGroup:"RETAIL",inventoryPostingGroup:"RESALE",manufacturingCompany:this.catalogue.desc,manufacturingCompanyThreeLettersCode:this.catalogue.code,catalogName:this.catalogue.catalogueCode,catalogThreeLettersCode:this.catalogue.catalogueCode,catalogReleaseDate:`${this.catalogue.year}-${this.catalogue.month}-${this.catalogue.day}`,fullSpecificationCode:this.singleProductData.id+o,tagName:"",finishOptions:JSON.stringify(this.singleProductData.finishOptions),productGroup:JSON.stringify(this.singleProductData.group),finishCode:JSON.stringify(this.singleProductData.finishCode),finishName:JSON.stringify(this.singleProductData.finishName),finishPrice:JSON.stringify(this.singleProductData.finishPrice),edit:!1,users_id:a.id,dealers_id:null,projects_id:93};this.catalogueService.addToCart(i).subscribe({next:l=>{this.toastr.success("Added to cart successfully"),this.busService.sendShowCart()}})}downloadPdf(){}selectCadFiles(){var o=this.autoCadForm.value;let e=[];1==o.dwg_2d&&e.push(`${this.baseUrl}assets/${this.company.company.CompanyName}/${this.catalogue.catalogueCode}/dwgfolders/dwg/2d/${this.singleProductData.id.toLowerCase()}_2d.dwg`),1==o.dwg_3d&&e.push(`${this.baseUrl}assets/${this.company.company.CompanyName}/${this.catalogue.catalogueCode}/dwgfolders/dwg/3d/${this.singleProductData.id.toLowerCase()}_3d.dwg`),1==o.dxf_2d&&e.push(`${this.baseUrl}assets/${this.company.company.CompanyName}/${this.catalogue.catalogueCode}/dwgfolders/dxf/2d/${this.singleProductData.id.toLowerCase()}_2d.dxf`),1==o.dxf_3d&&e.push(`${this.baseUrl}assets/${this.company.company.CompanyName}/${this.catalogue.catalogueCode}/dwgfolders/dxf/3d/${this.singleProductData.id.toLowerCase()}_3d.dxf`),1==o.rvt_2d&&e.push(`${this.baseUrl}assets/${this.company.company.CompanyName}/${this.catalogue.catalogueCode}/dwgfolders/rvt/2d/${this.singleProductData.id.toLowerCase()}_2d.rvt`),1==o.rvt_3d&&e.push(`${this.baseUrl}assets/${this.company.company.CompanyName}/${this.catalogue.catalogueCode}/dwgfolders/rvt/3d/${this.singleProductData.id.toLowerCase()}_3d.rvt`);let a=setInterval(function(i){let l=i.pop(),s=document.createElement("a");l=l||"",s.setAttribute("href",l),s.click(),0==i.length&&clearInterval(a)},1e3,e)}ngOnInit(){this.getCompany()}}function rt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("mouseover",function(){const l=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.mouseIn(l))})("mouseout",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.mouseOut())}),t.TgZ(1,"a",11),t._UZ(2,"img",12),t.ALo(3,"lowercase"),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()}if(2&n){const e=o.$implicit,a=t.oxw();t.xp6(1),t.FAE("routerLink","/catalogue/",null==a.company||null==a.company.company?null:a.company.company.CompanyName,"/product/",a.productCatalogue.id,"/",a.subProductCatalogue.id,"/",e.id,""),t.xp6(1),t.FAE("src","",a.baseUrl,"assets/",null==a.company||null==a.company.company?null:a.company.company.CompanyName,"/",null==a.catalogue?null:a.catalogue.catalogueCode,"/prod_icons/",t.lcZ(3,9,e.id),"_3d.png",t.LSH),t.xp6(3),t.hij(" ",e.id," ")}}D.\u0275fac=function(o){return new(o||D)(t.Y36(x.yh),t.Y36(u.gz),t.Y36(g),t.Y36(d.qu),t.Y36(G.Z),t.Y36(j._W),t.Y36(O.m9),t.Y36(u.F0))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-product-detail"]],decls:120,vars:29,consts:[[3,"data"],[1,"container-fluid"],[1,"row","mt-3"],[1,"col-12"],[1,"d-flex","flex-md-row","flex-column","justify-content-between","align-items-center"],[1,"flex-fill"],[1,"text-muted"],[1,"ms-2","text-dark"],[1,"d-flex","flex-md-row","flex-column","align-items-center"],[1,"form-select","form-select-sm","decorated",3,"formControl"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-dark"],[1,"col-md-6","col-12"],[1,"img-hover-zoom"],["alt","","width","200",1,"img-rounded",3,"src"],["class","menu mb-2",4,"ngFor","ngForOf"],[1,"prod-description"],[1,"p-1",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,""],[1,"ms-5","qtyInput"],[1,"input-group","bg-main","mb-3"],[1,"input-group-text"],["type","button",1,"btn","bg-light-purple","border",3,"click"],["min","1","value","1","type","number",1,"form-control","form-control-sm",3,"formControl","change"],["type","button",1,"btn","btn-dark","btn-sm","btn2","w-100",3,"click"],[3,"icon"],[1,"col-md-6","col-6"],[1,"mt-3"],[1,"row"],["class","col-3 mb-3 text-center img-hover-zoom",4,"ngFor","ngForOf"],[1,"col-6","col-md-6"],[3,"formGroup"],[1,"table"],[1,"pt-3"],[1,"form-check","form-switch"],["formControlName","dwg_2d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","dxf_2d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","rvt_2d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","dwg_3d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","dxf_3d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","rvt_3d","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],[1,"btn","btn-sm","btn2","w-100",3,"click"],["myFragment",""],[3,"ngValue"],["fileSaver","","href","javascript:;",1,"text-dark","ms-2",3,"method","fileName","url"],[1,"menu","mb-2"],["href","javascript:;",1,"text-decoration-none","fw-bold",3,"ngClass","click"],[4,"ngIf"],[3,"ngbCollapse"],["finishCollapse","ngbCollapse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col-3","mb-3","text-center","img-hover-zoom"],[1,"clr-purple","text-decoration-none","font-weight-bold",3,"routerLink"],["alt","","width","100",1,"img-rounded",3,"src"],[1,"mt-2"],["href","javascript:;","class","side-child-item p-1 text-decoration-none",3,"ngClass","click",4,"ngIf"],["href","javascript:;",1,"text-decoration-none","fw-bold",3,"click"],["subfinishCollapse","ngbCollapse"],["href","javascript:;",1,"side-child-item","p-1","text-decoration-none",3,"ngClass","click"]],template:function(o,e){1&o&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span")(7,"small",6),t._uU(8,"Product Description:"),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.ALo(11,"uppercase"),t.qZA()()(),t.TgZ(12,"div",5)(13,"div",8)(14,"select",9)(15,"option",10),t._uU(16,"Product info"),t.qZA(),t.YNc(17,H,3,5,"option",11),t.qZA()()()()(),t._UZ(18,"hr",12),t.TgZ(19,"div",13)(20,"div")(21,"small",6),t._uU(22,"Product:"),t.qZA(),t.TgZ(23,"h6"),t._uU(24),t.qZA(),t._UZ(25,"hr",12),t.TgZ(26,"div",14),t._UZ(27,"img",15),t.ALo(28,"lowercase"),t.qZA()(),t.TgZ(29,"div"),t._UZ(30,"hr",12),t.TgZ(31,"h6"),t._uU(32,"Finishes"),t.qZA(),t.YNc(33,tt,9,10,"div",16),t.qZA()(),t.TgZ(34,"div",13)(35,"div"),t._UZ(36,"br"),t.TgZ(37,"h6"),t._uU(38,"Description"),t.qZA(),t._UZ(39,"hr",12),t.TgZ(40,"p"),t._uU(41),t.qZA(),t.TgZ(42,"p",17),t._uU(43),t.qZA()(),t.TgZ(44,"div"),t._UZ(45,"hr",12),t.TgZ(46,"h6"),t._uU(47,"Product Code"),t.qZA(),t.TgZ(48,"h3",18),t._uU(49),t.YNc(50,et,2,1,"span",19),t.qZA(),t.TgZ(51,"div",20)(52,"div",21)(53,"h6",21),t._uU(54),t.qZA()(),t.TgZ(55,"div",22)(56,"div",23)(57,"span",24),t._uU(58,"Qty"),t.qZA(),t.TgZ(59,"button",25),t.NdJ("click",function(){return e.stepDown()}),t._uU(60,"-"),t.qZA(),t.TgZ(61,"input",26),t.NdJ("change",function(){return e.changePrice()}),t.qZA(),t.TgZ(62,"button",25),t.NdJ("click",function(){return e.stepUp()}),t._uU(63,"+"),t.qZA()()()(),t.TgZ(64,"button",27),t.NdJ("click",function(){return e.addToCart()}),t._UZ(65,"fa-icon",28),t._uU(66," Add to Cart "),t.qZA()()(),t.TgZ(67,"div",29)(68,"div"),t._UZ(69,"hr",12),t.TgZ(70,"h6",30),t._uU(71),t.qZA(),t.TgZ(72,"div",31),t.YNc(73,ot,6,11,"div",32),t.qZA()()(),t.TgZ(74,"div",33)(75,"div")(76,"h6"),t._uU(77,"Download"),t.qZA(),t._UZ(78,"hr",12),t.TgZ(79,"form",34)(80,"table",35)(81,"thead")(82,"tr"),t._UZ(83,"th"),t.TgZ(84,"th"),t._uU(85,"DWG"),t.qZA(),t.TgZ(86,"th"),t._uU(87,"DXF"),t.qZA(),t.TgZ(88,"th"),t._uU(89,"Revit"),t.qZA()()(),t.TgZ(90,"tbody")(91,"tr")(92,"td",36),t._uU(93,"2D"),t.qZA(),t.TgZ(94,"td")(95,"div",37),t._UZ(96,"input",38),t.qZA()(),t.TgZ(97,"td")(98,"div",37),t._UZ(99,"input",39),t.qZA()(),t.TgZ(100,"td")(101,"div",37),t._UZ(102,"input",40),t.qZA()()(),t.TgZ(103,"tr")(104,"td",36),t._uU(105,"3D"),t.qZA(),t.TgZ(106,"td")(107,"div",37),t._UZ(108,"input",41),t.qZA()(),t.TgZ(109,"td")(110,"div",37),t._UZ(111,"input",42),t.qZA()(),t.TgZ(112,"td")(113,"div",37),t._UZ(114,"input",43),t.qZA()()()()(),t.TgZ(115,"button",44),t.NdJ("click",function(){return e.selectCadFiles()}),t._UZ(116,"fa-icon",28),t._uU(117," Download "),t.qZA()()()()()(),t.YNc(118,ct,2,2,"ng-template",null,45,t.W1O)),2&o&&(t.Q6J("data",e.breadcrumbData),t.xp6(10),t.Oqu(t.lcZ(11,22,null==e.singleProductData.item?null:e.singleProductData.item.LONG_DESC.TEXT.Text)),t.xp6(4),t.Q6J("formControl",e.pdfControl),t.xp6(3),t.Q6J("ngForOf",e.pdfs),t.xp6(7),t.Oqu(e.singleProductData.id),t.xp6(3),t.FAE("src","",e.baseUrl,"assets/",null==e.company||null==e.company.company?null:e.company.company.CompanyName,"/",null==e.catalogue?null:e.catalogue.catalogueCode,"/prod_icons/",t.lcZ(28,24,null==e.singleProductData?null:e.singleProductData.id),"_3d.png",t.LSH),t.xp6(6),t.Q6J("ngForOf",e.singleProductData.group),t.xp6(8),t.Oqu(null==e.subProductCatalogue?null:e.subProductCatalogue.DESCRIPTIONS.TEXT.Text),t.xp6(2),t.Oqu(e.singleProductData.description),t.xp6(5),t.Q6J("ngClass",t.WLB(26,U,0==e.codeChk,1==e.codeChk)),t.xp6(1),t.hij(" ",e.singleProductData.id," "),t.xp6(1),t.Q6J("ngForOf",e.singleProductData.finishCode),t.xp6(4),t.hij("$",e.price,""),t.xp6(7),t.Q6J("formControl",e.qty),t.xp6(4),t.Q6J("icon",e.faShoppingCart),t.xp6(6),t.hij("Other ",null==e.subProductCatalogue?null:e.subProductCatalogue.DESCRIPTIONS.TEXT.Text," sizes"),t.xp6(2),t.Q6J("ngForOf",null==e.subProductCatalogue?null:e.subProductCatalogue.TOC_ITEMS.TOC_ITEM),t.xp6(6),t.Q6J("formGroup",e.autoCadForm),t.xp6(37),t.Q6J("icon",e.faDownload))},dependencies:[c.mk,c.sg,c.O5,c.tP,m,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.Wl,d.EJ,d.JJ,d.JL,d.qQ,d.oH,d.sg,d.u,X._D,v.BN,O.vy,u.rH,c.gd,c.i8],styles:[".prod-description[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial,sans-serif}.qtyInput[_ngcontent-%COMP%]{width:160px}.last-col[_ngcontent-%COMP%]{width:28%!important}#rendererContainer[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important}.three-d-parent[_ngcontent-%COMP%]{height:55%}.qrBg[_ngcontent-%COMP%]{background:transparent}.three-parent[_ngcontent-%COMP%]{background-color:#fff;width:400px;height:350px}.qrHeading[_ngcontent-%COMP%]{color:#4d4d4d;font-size:30px;font-weight:700;line-height:1}.qrPara[_ngcontent-%COMP%]{color:#4d4d4d;font-size:14px;font-weight:100}.box[_ngcontent-%COMP%]{border:5px solid rgba(0,0,0,0);background:conic-gradient(from 90deg at top 5px left 5px,rgba(0,0,0,0) 90deg,black 0) 0 0/20px 20px border-box no-repeat,conic-gradient(from 180deg at top 5px right 5px,rgba(0,0,0,0) 90deg,black 0) 100% 0/20px 20px border-box no-repeat,conic-gradient(from 0deg at bottom 5px left 5px,rgba(0,0,0,0) 90deg,black 0) 0 100%/20px 20px border-box no-repeat,conic-gradient(from -90deg at bottom 5px right 5px,rgba(0,0,0,0) 90deg,black 0) 100% 100%/20px 20px border-box no-repeat;box-sizing:border-box;display:inline-flex;justify-content:center;align-items:center;text-align:center}"]});class E{constructor(o,e,a){this.store=o,this.route=e,this.baseUrl=h.N.baseUrl,this.faLevelUp=p.K_v,this.company=null,this.catalogue=null,this.productCatalogue=null,this.subProductCatalogue=null,this.breadcrumbData={},this.infoModal=!1,this.infoData={},a.events.subscribe({next:i=>{i instanceof u.m2&&this.getCatalogue()}})}getCompany(){this.store.select(T.p).subscribe({next:o=>{o?.company&&(this.company=o,this.breadcrumbData.companyCode=this.company?.company?.CompanyName,this.getCatalogue())}})}getCatalogue(){let o=this.route.snapshot.paramMap.get("categoryId"),e=this.route.snapshot.paramMap.get("subCategoryId");this.store.select(b.P).subscribe({next:a=>{a?.catalogueCode&&(this.breadcrumbData.breadcrumbs=[],this.catalogue=a,this.productCatalogue=a.TABLE_OF_CONTENTS.LEVEL.LABEL.LEVEL.LABEL.find(l=>l.id==o),this.subProductCatalogue=this.productCatalogue?.LEVEL.LABEL.find(l=>l.id==e),this.breadcrumbData.catalogueCode=a.catalogueCode,this.breadcrumbData.breadcrumbs=[{name:this.company?.company?.CompanyName,router:`/catalogue/${this.company?.company?.CompanyName}/category`},{name:this.productCatalogue?.DESCRIPTIONS.TEXT.Text,router:`/catalogue/${this.company?.company?.CompanyName}/sub-category/${this.productCatalogue?.id}`},{name:this.subProductCatalogue?.DESCRIPTIONS.TEXT.Text,router:null}])}})}mouseIn(o){this.infoModal=!0,this.infoData.type="products",this.infoData.id=o.id,this.infoData.imgUrl=`${this.baseUrl}assets/${this.company?.company?.CompanyName}/${this.catalogue?.catalogueCode}/prod_icons/${o.id.toLowerCase()}_3d.png`}mouseOut(){this.infoModal=!1}ngOnInit(){this.getCompany()}}function ut(n,o){if(1&n&&(t.TgZ(0,"div",16)(1,"a",17),t._UZ(2,"img",18),t.TgZ(3,"div",19),t._uU(4),t.qZA()()()),2&n){const e=o.$implicit,a=t.oxw(2);t.xp6(1),t.hYB("routerLink","/catalogue/",null==a.company||null==a.company.company?null:a.company.company.CompanyName,"/sub-category/",e.id,""),t.xp6(1),t.FAE("src","",a.baseUrl,"assets/",null==a.company||null==a.company.company?null:a.company.company.CompanyName,"/",null==a.catalogue?null:a.catalogue.catalogueCode,"/labels_icons/",e.id,".png",t.LSH),t.xp6(2),t.hij(" ",e.DESCRIPTIONS.TEXT.Text," ")}}function dt(n,o){if(1&n&&(t.TgZ(0,"div")(1,"small",9),t._uU(2,"Catalogue Name:"),t.qZA(),t.TgZ(3,"h6"),t._uU(4),t.qZA(),t._UZ(5,"hr",5),t.TgZ(6,"div",14),t.YNc(7,ut,5,7,"div",15),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.catalogue?null:e.catalogue.code),t.xp6(3),t.Q6J("ngForOf",null==e.catalogue||null==e.catalogue.TABLE_OF_CONTENTS||null==e.catalogue.TABLE_OF_CONTENTS.LEVEL||null==e.catalogue.TABLE_OF_CONTENTS.LEVEL.LABEL||null==e.catalogue.TABLE_OF_CONTENTS.LEVEL.LABEL.LEVEL?null:e.catalogue.TABLE_OF_CONTENTS.LEVEL.LABEL.LEVEL.LABEL)}}function pt(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-info-modal",20),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("data",e.infoData)("catalogue",e.catalogue)}}function gt(n,o){if(1&n&&(t.TgZ(0,"div",21),t._UZ(1,"img",22),t.qZA()),2&n){const e=o.$implicit,a=t.oxw();t.xp6(1),t.FAE("src","",a.baseUrl,"assets/",null==a.company||null==a.company.company?null:a.company.company.CompanyName,"/",null==a.catalogue?null:a.catalogue.catalogueCode,"/gallery/",e.name,"",t.LSH)}}function mt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("mouseover",function(){const l=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.mouseIn(l))})("mouseout",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.mouseOut())}),t.TgZ(1,"a",17),t._UZ(2,"img",24),t.TgZ(3,"div",19),t._uU(4),t.qZA()()()}if(2&n){const e=o.$implicit,a=t.oxw();t.xp6(1),t.cQ8("routerLink","/catalogue/",null==a.company||null==a.company.company?null:a.company.company.CompanyName,"/products/",a.productCatalogue.id,"/",e.id,""),t.xp6(1),t.XOb("src","",a.baseUrl,"assets/",null==a.company||null==a.company.company?null:a.company.company.CompanyName,"/",null==a.catalogue?null:a.catalogue.catalogueCode,"/labels/",null==a.productCatalogue?null:a.productCatalogue.id,"/label_images/",e.id,".png",t.LSH),t.xp6(2),t.hij(" ",e.DESCRIPTIONS.TEXT.Text," ")}}E.\u0275fac=function(o){return new(o||E)(t.Y36(x.yh),t.Y36(u.gz),t.Y36(u.F0))},E.\u0275cmp=t.Xpm({type:E,selectors:[["app-products"]],decls:13,vars:9,consts:[[3,"data"],[1,"container-fluid"],[1,"row","mt-3"],[1,"col-md-6","col-12"],[1,"text-muted"],[1,"level-up-btn",3,"routerLink"],[3,"icon"],[1,"border-dark"],[1,"row"],["class","col-6 col-lg-3 mb-3 text-center img-hover-zoom",3,"mouseover","mouseout",4,"ngFor","ngForOf"],[1,"col-6","col-lg-3","mb-3","text-center","img-hover-zoom",3,"mouseover","mouseout"],[1,"clr-purple","font-weight-bold",3,"routerLink"],["alt","","width","100",1,"img-rounded",3,"src"],[1,"mt-2"]],template:function(o,e){1&o&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"small",4),t._uU(5),t.qZA(),t.TgZ(6,"h6")(7,"a",5),t._UZ(8,"fa-icon",6),t.qZA(),t._uU(9),t.qZA(),t._UZ(10,"hr",7),t.TgZ(11,"div",8),t.YNc(12,rt,6,11,"div",9),t.qZA()()()()),2&o&&(t.Q6J("data",e.breadcrumbData),t.xp6(5),t.hij("",null==e.productCatalogue?null:e.productCatalogue.DESCRIPTIONS.TEXT.Text," Products:"),t.xp6(2),t.hYB("routerLink","/catalogue/",null==e.company||null==e.company.company?null:e.company.company.CompanyName,"/sub-category/",null==e.productCatalogue?null:e.productCatalogue.id,""),t.xp6(1),t.Q6J("icon",e.faLevelUp),t.xp6(1),t.lnq(" ",null==e.catalogue?null:e.catalogue.code," | ",null==e.productCatalogue?null:e.productCatalogue.DESCRIPTIONS.TEXT.Text," | ",null==e.subProductCatalogue?null:e.subProductCatalogue.DESCRIPTIONS.TEXT.Text," "),t.xp6(3),t.Q6J("ngForOf",null==e.subProductCatalogue?null:e.subProductCatalogue.TOC_ITEMS.TOC_ITEM))},dependencies:[c.sg,m,v.BN,u.rH,c.i8],styles:[".h_line[_ngcontent-%COMP%]{background-color:#000;color:#000;width:60%;height:5px;line-height:50%}"]});class N{constructor(o,e,a,i){this.store=o,this.route=e,this.catalogService=a,this.baseUrl=h.N.baseUrl,this.faLevelUp=p.K_v,this.company=null,this.catalogue=null,this.productCatalogue=null,this.breadcrumbData={},this.gallery=[],this.infoModal=!1,this.infoData={},i.events.subscribe({next:l=>{l instanceof u.m2&&this.getCatalogue()}})}getCompany(){this.store.select(T.p).subscribe({next:o=>{o?.company&&(this.company=o,this.breadcrumbData.companyCode=this.company?.company?.CompanyName,this.getCatalogue())}})}getCatalogue(){let o=this.route.snapshot.paramMap.get("id");this.store.select(b.P).subscribe({next:e=>{e?.catalogueCode&&(this.breadcrumbData.breadcrumbs=[],this.catalogue=e,this.productCatalogue=e.TABLE_OF_CONTENTS.LEVEL.LABEL.LEVEL.LABEL.find(i=>i.id==o),this.breadcrumbData.catalogueCode=e.catalogueCode,this.breadcrumbData.breadcrumbs=[{name:this.company?.company?.CompanyName,router:`/catalogue/${this.company?.company?.CompanyName}/category`},{name:this.productCatalogue?.DESCRIPTIONS.TEXT.Text,router:null}],this.getGalleryImages())}})}getGalleryImages(){this.company?.company?.CompanyName&&this.catalogService.getGalleryImages(this.company?.company?.CompanyName,this.catalogue?.catalogueCode).subscribe({next:o=>{this.gallery=o.message}})}mouseIn(o){this.infoModal=!0,this.infoData.type="sub-category",this.infoData.id=o.id,this.infoData.productCatalogue=this.productCatalogue,this.infoData.imgUrl=`${this.baseUrl}assets/${this.company?.company?.CompanyName}/${this.catalogue?.catalogueCode}/labels/${this.productCatalogue.id}/label_images/${o.id}.png`}mouseOut(){this.infoModal=!1}ngOnInit(){this.getCompany()}}N.\u0275fac=function(o){return new(o||N)(t.Y36(x.yh),t.Y36(u.gz),t.Y36(g),t.Y36(u.F0))},N.\u0275cmp=t.Xpm({type:N,selectors:[["app-sub-category"]],decls:22,vars:11,consts:[[3,"data"],[1,"container-fluid"],[1,"row","mt-3"],[1,"col-md-6","col-12"],[4,"ngIf"],[1,"border-dark"],[1,"mt-3"],[1,"row"],["class","col-6 col-lg-3 text-center img-hover-zoom mb-3",4,"ngFor","ngForOf"],[1,"text-muted"],[1,"level-up-btn",3,"routerLink"],[3,"icon"],[1,"h_line"],["class","col-6 col-lg-3 mb-3 text-center img-hover-zoom",3,"mouseover","mouseout",4,"ngFor","ngForOf"],[1,"row","mt-3","pb-3"],["class","col-6 col-lg-3 text-center img-hover-zoom",4,"ngFor","ngForOf"],[1,"col-6","col-lg-3","text-center","img-hover-zoom"],[1,"clr-purple","font-weight-bold",3,"routerLink"],["width","100",1,"img-rounded",3,"src"],[1,"mt-2"],[3,"data","catalogue"],[1,"col-6","col-lg-3","text-center","img-hover-zoom","mb-3"],["width","100","alt","Cinque Terre",1,"img-rounded",3,"src"],[1,"col-6","col-lg-3","mb-3","text-center","img-hover-zoom",3,"mouseover","mouseout"],["alt","","width","100",1,"img-rounded",3,"src"]],template:function(o,e){1&o&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,dt,8,2,"div",4),t.YNc(5,pt,2,2,"div",4),t.TgZ(6,"div"),t._UZ(7,"hr",5),t.TgZ(8,"h6",6),t._uU(9),t.qZA(),t.TgZ(10,"div",7),t.YNc(11,gt,2,4,"div",8),t.qZA()()(),t.TgZ(12,"div",3)(13,"small",9),t._uU(14),t.qZA(),t.TgZ(15,"h6")(16,"a",10),t._UZ(17,"fa-icon",11),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"hr",12),t.TgZ(20,"div",7),t.YNc(21,mt,5,9,"div",13),t.qZA()()()()),2&o&&(t.Q6J("data",e.breadcrumbData),t.xp6(4),t.Q6J("ngIf",!e.infoModal),t.xp6(1),t.Q6J("ngIf",e.infoModal),t.xp6(4),t.hij("",null==e.catalogue?null:e.catalogue.code," Gallery"),t.xp6(2),t.Q6J("ngForOf",e.gallery),t.xp6(3),t.hij("",null==e.productCatalogue?null:e.productCatalogue.DESCRIPTIONS.TEXT.Text," Products:"),t.xp6(2),t.MGl("routerLink","/catalogue/",null==e.company||null==e.company.company?null:e.company.company.CompanyName,"/category"),t.xp6(1),t.Q6J("icon",e.faLevelUp),t.xp6(1),t.AsE(" ",null==e.catalogue?null:e.catalogue.code," | ",null==e.productCatalogue?null:e.productCatalogue.DESCRIPTIONS.TEXT.Text," "),t.xp6(3),t.Q6J("ngForOf",null==e.productCatalogue?null:e.productCatalogue.LEVEL.LABEL))},dependencies:[c.sg,c.O5,m,f,v.BN,u.rH],styles:[".level-up-btn[_ngcontent-%COMP%]{color:#53386f}.level-up-btn[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#53386f!important;border-color:#53386f!important}.h_line[_ngcontent-%COMP%]{background-color:#000;color:#000;width:60%;height:5px;line-height:50%}"]});const ht=[{path:"",component:Z,children:[{path:"category",component:P},{path:"sub-category/:id",component:N},{path:"products/:categoryId/:subCategoryId",component:E},{path:"product/:categoryId/:subCategoryId/:productId",component:D},{path:"",pathMatch:"full",redirectTo:"category"}]}];class _{}_.\u0275fac=function(o){return new(o||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({imports:[u.Bz.forChild(ht),u.Bz]});var ft=r(7281);class C{}C.\u0275fac=function(o){return new(o||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({providers:[g],imports:[c.ez,ft.m,_]})}}]);